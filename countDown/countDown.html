<!doctype html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>倒计时 - 智能社 - www.zhinengshe.com</title>
<!--[if lte IE 6]>
<script src="js/DD_belatedPNG_0.0.8a.js" type="text/javascript"></script>
    <script type="text/javascript">
        DD_belatedPNG.fix('a');
    </script>
<![endif]-->
<link href="style/index.css" rel="stylesheet" type="text/css" /></head>
<script>
window.onload=function(){
	var oBtn=document.getElementById('go');
	var aInput=document.getElementById('fill_in').getElementsByTagName('input');
	var oP=document.getElementById('target');

	var oDiv=document.getElementById('date');

	var timer=null;
	//给开始按钮 添加 点击事件
	function clock(){
		//获取用户输入的时间
		var y=Number(aInput[0].value);
		var m=Number(aInput[1].value);
		var d=Number(aInput[2].value);
		//往  p标签里 塞内容

		oP.innerHTML='现在距离 -<strong>'+y+'年'+m+'月'+d+'日</strong>- 还剩：';
		//去未来  
		var oDate=new Date();
		oDate.setFullYear(y,m-1,d);
		oDate.setHours(0,0,0);
		//拿时间戳
		var futureTime=oDate.getTime();
		//回到现实之中
		var oDate=new Date();
		//拿时间戳
		var nowTime=oDate.getTime();
		//拿到了 时间差
		var disTime=parseInt((futureTime-nowTime)/1000);

		var D=parseInt(disTime/86400);
		disTime%=86400;
		var H=parseInt(disTime/3600);
		disTime%=3600;
		var M=parseInt(disTime/60);
		var S=disTime%60;

		oDiv.innerHTML='<p id="day">'+D+'</p><p id="hour">'+H+'</p><p id="min">'+M+'</p><p id="sec">'+S+'</p>'
	};	
	oBtn.onclick=function(){
		clearInterval(timer);
		clock();
		timer=setInterval(function(){
			clock();
		},1000);
	};
}
</script>
<body>

<div id="zhinengshe">
    <div id="fill_in">
        <span class="title">请输入：</span>
        <input type="text" class="long_text" value="2014" />
        <span class="space1">年</span>
        <input type="text" class="text" value="12" />
        <span class="space2">月</span>
        <input type="text" class="text" value="25" />
        <span class="space3">日</span>
    </div>

    <a href="javascript:;" id="go" class="go"></a>

    <p id="target">
        现在距离 -
        <strong>2013年12月25日</strong>
        - 还剩：
    </p>

    <div id="date">
        <p id="day">00</p>
        <p id="hour">00</p>
        <p id="min">00</p>
        <p id="sec">00</p>
    </div>

    <h1 title="智能社-www.zhinengshe.com"><a href="http://www.zhinengshe.com"></a></h1>
</div>

</body>
</html>
